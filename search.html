<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Search Movies</title>
  </head>
  <body>
    <header id="header">
      <ul id="header-list">
        <div id="logo">
          <a href="index.html">My Watchlist</a>
        </div>
        <div id="header-items">
          <li><a href="search.html">Search Movies</a></li>
          <li><a href="top-movies.html">Top Movies</a></li>
          <li><a href="my-list.html">My List</a></li>
          <li><a href="login.html">Login</a></li>
        </div>
        <div id="burger">
          <div id="line1"></div>
          <div id="line2"></div>
          <div id="line3"></div>
        </div>
      </ul>
    </header>
    Search Page
    
    <input type="search" id="searchbar" name="henry">
      <button id="searchbutton">Search</button>
    
    <script>
      
      function search() {
        console.log("Search function ran");
        var query = document.getElementById('searchbar').value;
        console.log(query);
        connectAPI(query);
      }
      
       function connectAPI(query) {
         var url = "omdapi.com/?apikey=4c3128ae&s=" + query;
            // Consolidates the XMLHttpRequest in one line then processes and prints the data
            res = fetch(url)
                .then (res => res.json())
                .then (data => {
                  console.log(data.Search);
                 })
        }
      
      document.getElementById('searchbutton').addEventListener("click",search());
    </script>
  </body>
</html>
